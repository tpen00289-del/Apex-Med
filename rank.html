<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8" /> <meta name="viewport" content="width=device-width, initial-scale=1" /> <title>APEX.MED - Rank</title> <style> body { font-family: Arial, sans-serif; background: url("photo.jpg") no-repeat center center fixed; background-size: cover; color: white; margin: 0; padding: 0; min-height: 100vh; } #fixedRankHeader { position: fixed; top: 0; width: 100%; background: rgba(0,0,0,0.4); text-align: center; font-size: 1.8em; padding: 15px 0; font-weight: bold; z-index: 1000; } .content-wrapper { padding-top: 70px; display: flex; flex-direction: column; align-items: center; padding-bottom: 40px; } .rank-container { background: rgba(0, 0, 0, 0.2); padding: 20px; border-radius: 10px; text-align: center; max-width: 400px; width: 100%; box-shadow: 0 0 15px rgba(0,0,0,0.3); margin-top: 20px; perspective: 1000px; } @keyframes twistSpin { 0% { transform: rotateY(0deg); } 100% { transform: rotateY(180deg); } } .rankImage { max-width: 150px; margin-bottom: 15px; transition: box-shadow 0.3s ease; animation: twistSpin 6s ease-out infinite; transform-origin: center center; mix-blend-mode: multiply; } .rankImage[data-rank="Bronze"]:hover { box-shadow: 0 0 20px #cd7f32; } .rankImage[data-rank="Gold"]:hover { box-shadow: 0 0 20px gold; } .rankImage[data-rank="Platinum"]:hover { box-shadow: 0 0 20px #00ffff; } .rankImage[data-rank="Heroic"]:hover { box-shadow: 0 0 20px #ff4500; } .rankImage[data-rank="Elite Heroic"]:hover { box-shadow: 0 0 20px #ff00ff; } .rankImage[data-rank="Master"]:hover { box-shadow: 0 0 20px #8a2be2; } .rankImage[data-rank="Grand Master"]:hover { box-shadow: 0 0 20px #00ff00; } .stats { font-size: 1.1em; } </style> </head> <body> <div id="fixedRankHeader">Your Rank: Gold</div> <div class="content-wrapper"> <div class="rank-container"> <img id="rankImage" class="rankImage" src="images/ranks/gold.png" alt="Rank Image" /> <div class="stats"> <p>Total Tasks: <span id="totalTasks">0</span></p> <p>Completed Tasks: <span id="completedTasks">0</span></p> <p>Incomplete Tasks: <span id="incompleteTasks">0</span></p> <p>Days Since Last Visit: <span id="daysSinceLastVisit">N/A</span></p> </div> <p style="font-size: 0.9em; margin-top: 25px; color: #bbb;"> * Rank updates once a week based on your task completion and activity. </p> </div> </div> <script> function daysBetween(date1, date2) { const diffTime = Math.abs(date2 - date1); return Math.floor(diffTime / (1000 * 60 * 60 * 24)); } function getUserRank() { const raw = localStorage.getItem("todoData"); if (!raw) return { rank: "Bronze", image: "images/ranks/bronze.png", total: 0, completed: 0, incomplete: 0 }; const data = JSON.parse(raw); const total = data.length; const completed = data.filter(task => task.status === "completed").length; const incomplete = total - completed; const performance = total > 0 ? (completed / total) * 100 : 0; let rank = "Bronze"; let image = "images/ranks/bronze.png"; if (performance >= 95) { rank = "Grand Master"; image = "images/ranks/grandmaster.png"; } else if (performance >= 85) { rank = "Master"; image = "images/ranks/master.png"; } else if (performance >= 75) { rank = "Elite Heroic"; image = "images/ranks/elite.png"; } else if (performance >= 60) { rank = "Heroic"; image = "images/ranks/heroic.png"; } else if (performance >= 40) { rank = "Platinum"; image = "images/ranks/platinum.png"; } else if (performance >= 20) { rank = "Gold"; image = "images/ranks/gold.png"; } return { rank, image, total, completed, incomplete }; } function adjustRankForActivity(rankInfo, inactivityDays) { const ranks = [ "Bronze", "Gold", "Platinum", "Heroic", "Elite Heroic", "Master", "Grand Master" ]; let currentIndex = ranks.indexOf(rankInfo.rank); if (currentIndex === -1) currentIndex = 0; if (inactivityDays > 7) { currentIndex = Math.max(0, currentIndex - 1); } else if (inactivityDays <= 2) { currentIndex = Math.min(ranks.length - 1, currentIndex + 1); } const rankToImage = { "Bronze": "images/ranks/bronze.png", "Gold": "images/ranks/gold.png", "Platinum": "images/ranks/platinum.png", "Heroic": "images/ranks/heroic.png", "Elite Heroic": "images/ranks/elite.png", "Master": "images/ranks/master.png", "Grand Master": "images/ranks/grandmaster.png" }; return { rank: ranks[currentIndex], image: rankToImage[ranks[currentIndex]], total: rankInfo.total, completed: rankInfo.completed, incomplete: rankInfo.incomplete }; } function updateRankDisplay(rankInfo, inactivityDays) { const rankImage = document.getElementById("rankImage"); rankImage.src = rankInfo.image; rankImage.setAttribute("data-rank", rankInfo.rank); document.getElementById("fixedRankHeader").textContent = `Your Rank: ${rankInfo.rank}`; document.getElementById("totalTasks").textContent = rankInfo.total; document.getElementById("completedTasks").textContent = rankInfo.completed; document.getElementById("incompleteTasks").textContent = rankInfo.incomplete; document.getElementById("daysSinceLastVisit").textContent = inactivityDays; } function shouldUpdateRank() { const lastUpdate = localStorage.getItem('lastRankUpdate'); if (!lastUpdate) return true; const lastDate = new Date(lastUpdate); const now = new Date(); const diffTime = now - lastDate; const diffDays = diffTime / (1000 * 60 * 60 * 24); return diffDays >= 7; } function updateRankIfNeeded() { const now = new Date(); const lastVisitRaw = localStorage.getItem('lastVisitDate'); let lastVisitDate = lastVisitRaw ? new Date(lastVisitRaw) : null; const inactivityDays = lastVisitDate ? daysBetween(lastVisitDate, now) : 0; if (shouldUpdateRank()) { let baseRankInfo = getUserRank(); let adjustedRankInfo = adjustRankForActivity(baseRankInfo, inactivityDays); updateRankDisplay(adjustedRankInfo, inactivityDays); localStorage.setItem('lastRankUpdate', now.toISOString()); localStorage.setItem('lastVisitDate', now.toISOString()); } else { localStorage.setItem